# ุดุฑุญ ุงูุณููุช โ NomadGo SpatialVision

> **ุงููุบุฉ**: ุงูุนุฑุจูุฉ | [English โ RUNBOOK.md](./RUNBOOK.md)

---

## ูุง ูู ูุฐู ุงูุณููุชุ

**NomadGo SpatialVision** ูู ุณููุช ูุชูุงููุฉ ูุนุฏู ุงููุฎุฒูู ุจุงููุงูุน ุงููุนุฒุฒ (AR) ูููููุฉ ูู ุฃุฑุจุนุฉ ุฃุฌุฒุงุก ุฑุฆูุณูุฉ:

```
NomadGo SpatialVision
โโโ ๐ฑ ุชุทุจูู Unity AR          โ ุชุทุจูู ุงูููุจุงูู (Android)
โโโ ๐ฅ๏ธ ุฎุงุฏู Mock (Express.js)  โ ูุณุชูุจู ุจูุงูุงุช ุงููุฒุงููุฉ
โโโ ๐ ููุญุฉ ุชุญูู (React)       โ ูุงุฌูุฉ ูุฑุงูุจุฉ ููุจ
โโโ โ๏ธ CI/CD (GitHub Actions)  โ ุจูุงุก ุชููุงุฆู ููู APK
```

---

## 1. ุชุทุจูู Unity AR ๐ฑ

### ุงูุบุฑุถ
ุชุทุจูู ููุจุงูู ูุนูู ุนูู ุฃุฌูุฒุฉ Android ุจูุงููุฑุง AR. ููุฌูู ุงููุณุชุฎุฏู ุงููุงููุฑุง ูุญู ุฑู ูุฎุฒูู ููุฑุตุฏ ุงูุชุทุจูู ุงูููุชุฌุงุช ุชููุงุฆูุงู ููุญุตููุง ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู.

### ููู ูุนููุ
1. **ุงููุงููุฑุง** ุชูุชูุท ุงูุฅุทุงุฑุงุช ูู ุงูููุช ุงููุนูู
2. **ูููุฐุฌ ONNX (YOLOv8)** ูุญููู ูู ุฅุทุงุฑ ูููุชุดู ุงูููุชุฌุงุช
3. **ูุธุงู ุงูุชุชุจุน (IOU)** ูุญุณุจ ุนุฏุฏ ุงูุตููู ููููุน ุงูุชูุฑุงุฑ
4. **ูุธุงู ุงููุฒุงููุฉ** ูุฑุณู ูุจุถุงุช ุจูุงูุงุช ุฅูู ุงูุฎุงุฏู ูู 5 ุซูุงูู

### ูุฌูุฏุงุช ุงูุณูุฑูุจุชุงุช (Assets/Scripts/)

| ุงููุฌูุฏ | ุงููููุฉ |
|--------|--------|
| `AppShell/` | ุฏูุฑุฉ ุญูุงุฉ ุงูุชุทุจููุ ุชุญููู ุงูุฅุนุฏุงุฏุงุชุ ูุงุฌูุฉ ุงููุณุญ |
| `Spatial/` | ูุดู ุงูุฃุณุทุญ ุจู ARุ ุชุชุจุน ุงูุนูู ูุงููุฑุงุบ |
| `Vision/` | ูุญุฑู ุงูุงุณุชุฏูุงู ONNXุ ูุนุงูุฌุฉ ุงูุฅุทุงุฑุงุชุ ูุชุงุฆุฌ ุงููุดู |
| `Counting/` | ุชุชุจุน IOUุ ุชุฌููุน ุงูุตูููุ ุฅุฏุงุฑุฉ ุงูุนุฏู |
| `AROverlay/` | ุฑุณู ุตูุงุฏูู ุงููุดูุ ุนุฑุถ ุงูุฃุฑูุงู ุนูู ุงูุดุงุดุฉ |
| `Storage/` | ุญูุธ ุงูุฌูุณุฉ ุจุตูุบุฉ JSONุ ุงูุญูุธ ุงูุชููุงุฆูุ ุงูุชุตุฏูุฑ |
| `Sync/` | ุฅุฏุงุฑุฉ ูุจุถุงุช ุงูุจูุงูุงุชุ ูุงุฆูุฉ ุงูุชุธุงุฑ ูุน ุฅุนุงุฏุฉ ุงููุญุงููุฉ |
| `Diagnostics/` | ุนุฑุถ ูุนุฏู FPSุ ุชูููุช ุงูุงุณุชุฏูุงูุ ูุฑุงูุจุฉ ุงูุฐุงูุฑุฉ |

### ุงููููุงุช ุงูุฌููุฑูุฉ

| ุงูููู | ุงููุตู |
|-------|-------|
| `Assets/Scenes/Main.unity` | ุงููุดูุฏ ุงูุฑุฆูุณู ููุชุทุจูู |
| `Assets/Resources/CONFIG.json` | ุฅุนุฏุงุฏุงุช ุงููููุฐุฌ ูุงูุนุฏู ูุงููุฒุงููุฉ |
| `Assets/Models/yolov8n.onnx` | ูููุฐุฌ ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูููุดู |
| `Assets/Models/labels.txt` | ุฃุณูุงุก ุงููุฆุงุช ุงูุชู ููุชุดููุง ุงููููุฐุฌ |

---

## 2. ุฎุงุฏู Mock โ Express.js ๐ฅ๏ธ

### ุงูุบุฑุถ
ุฎุงุฏู Node.js/Express ุจุณูุท ูุนูู ุนูู ุงููููุฐ **5000**. ูุณุชูุจู ุงููุจุถุงุช ูู ุงูุชุทุจูู ููุฎุฒูููุง ูู ุงูุฐุงูุฑุฉ ููุชูุญ ุงุณุชุนุฑุงุถูุง ุนุจุฑ API ุฃู ููุญุฉ ุงูุชุญูู.

### ููุงุท ุงูู API

| ุงูุทุฑููุฉ | ุงููุณุงุฑ | ุงููุตู |
|---------|--------|-------|
| `POST` | `/api/pulse` | ุงุณุชูุจุงู ูุจุถุฉ ูุฒุงููุฉ ูู ุงูุชุทุจูู |
| `GET` | `/api/pulses` | ุนุฑุถ ุฌููุน ุงููุจุถุงุช ุงููุณุชููุฉ |
| `GET` | `/api/stats` | ุฅุญุตุงุฆูุงุช ุงูุฎุงุฏู (ุนุฏุฏุ ุขุฎุฑ ูุจุถุฉ...) |
| `GET` | `/api/health` | ูุญุต ุตุญุฉ ุงูุฎุงุฏู |
| `DELETE` | `/api/pulses` | ูุณุญ ุฌููุน ุงููุจุถุงุช |

### ูุซุงู ุนูู ูุจุถุฉ ูุฒุงููุฉ
```json
{
  "pulseId": "p001",
  "sessionId": "session_abc",
  "timestamp": "2026-02-21T09:00:00Z",
  "totalCount": 30,
  "countsByLabel": [
    { "label": "bottle", "count": 20 },
    { "label": "can", "count": 10 }
  ],
  "rowCount": 3,
  "deviceId": "device-xyz"
}
```

### ูุฌูุฏุงุช ุงูุฎุงุฏู

| ุงููุฌูุฏ/ุงูููู | ุงููููุฉ |
|-------------|--------|
| `server/index.ts` | ููุทุฉ ุงูุฏุฎูู ุงูุฑุฆูุณูุฉ ููุฎุงุฏู |
| `server/routes.ts` | ุชุนุฑูู ููุงุท ุงูู API |
| `server/storage.ts` | ููุทู ุงูุชุฎุฒูู |
| `shared/schema.ts` | ุฃููุงุน ุงูุจูุงูุงุช ุงููุดุชุฑูุฉ |

---

## 3. ููุญุฉ ุงูุชุญูู โ React ๐

### ุงูุบุฑุถ
ูุงุฌูุฉ ููุจ React ูุจููุฉ ุจู Viteุ ุชูุนุฑุถ ุนูู ููุณ ุงููููุฐ 5000. ุชุชูุญ ูููุดุบูู ูุฑุงูุจุฉ ุงููุจุถุงุช ุงููุงุฑุฏุฉ ูู ุงูุชุทุจูู ูู ุงูููุช ุงููุนูู.

### ูููุฒุงุช ุงูููุญุฉ

| ุงูููุฒุฉ | ุงููุตู |
|--------|-------|
| ๐ ุฅุญุตุงุฆูุงุช ููุฑูุฉ | ุฅุฌูุงูู ุงููุจุถุงุชุ ุขุฎุฑ ุนุฏูุ ุญุงูุฉ ุงูุฎุงุฏู |
| ๐ ุณุฌู ุงููุจุถุงุช | ุฌุฏูู ุจุฌููุน ุงููุจุถุงุช ุงููุณุชููุฉ ูุน ุงูุชูุงุตูู |
| ๐งช ุฃุฏูุงุช ุงูุงุฎุชุจุงุฑ | ุฅุฑุณุงู ูุจุถุฉ ุชุฌุฑูุจูุฉ ูุจุงุดุฑุฉ ูู ุงููุชุตูุญ |
| ๐ ุชูุซูู API | ูุฑุฌุน ุณุฑูุน ูููุงุท ุงูู API |

### ุงููุฌูุฏุงุช

| ุงููุฌูุฏ | ุงููููุฉ |
|--------|--------|
| `client/src/` | ููุฏ React ุงูุฑุฆูุณู |
| `client/src/pages/` | ุตูุญุงุช ุงูุชุทุจูู |
| `client/src/components/` | ุงููููููุงุช ุงููุดุชุฑูุฉ |

---

## 4. CI/CD โ GitHub Actions โ๏ธ

### ุงูุบุฑุถ
ุจูุงุก ุชููุงุฆู ูููุดุฑูุน ูุฅูุชุงุฌ ููู APK ุจุฏูู ุงูุญุงุฌุฉ ูุชุดุบูู Unity ูุญููุงู.

### ุงูู Workflows ุงููุชููุฑุฉ

| ุงูููู | ูุชู ูุนูู | ูุง ููุนู |
|-------|----------|---------|
| `build-android.yml` | ุนูุฏ push ุฅูู `main` | ูุจูู APK ููุธุงู Android |
| `build-unity-multiplatform.yml` | ูุฏููุงู ููุท | ูุจูู ูู Windows/Linux/WebGL |
| `ci-nodejs.yml` | ุนูุฏ push ุฅูู `main` | ูุชุญูู ูู ุงูููุน ููุจูู Node.js |
| `build-web.yml` | ุนูุฏ push ุฅูู `main` | ูุจูู React Frontend |
| `build-runpod.yml` | ูุฏููุงู ููุท | ูุจูู ุงูุชุทุจูู ุนุจุฑ RunPod |
| `activation.yml` | ูุฏููุงู ููุท | ูููุดุฆ ููู ุชูุนูู Unity |

### ุงูู Secrets ุงููุทููุจุฉ

| ุงูุงุณู | ููุงุฐุงุ |
|-------|--------|
| `UNITY_LICENSE` | ุชุฑุฎูุต Unity ููุจูุงุก ุงูุชููุงุฆู |
| `UNITY_EMAIL` | ุจุฑูุฏ ุญุณุงุจ Unity |
| `UNITY_PASSWORD` | ูููุฉ ูุฑูุฑ ุญุณุงุจ Unity |
| `RUNPOD_API_KEY` | ููุชุงุญ API ูู RunPod (ููุจูุงุก ุนุจุฑู) |
| `GH_PAT` | GitHub Token ูุชุณุฌูู ุงูู runner ูู RunPod |

---

## 5. ุงูุฅุนุฏุงุฏุงุช โ CONFIG.json

ููู `Assets/Resources/CONFIG.json` ูู ูุฑูุฒ ุงูุชุญูู ุจุงูุชุทุจูู. ุฅููู ุฃูู ุงูุฅุนุฏุงุฏุงุช:

```json
{
  "model": {
    "path": "Models/yolov8n.onnx",
    "confidence_threshold": 0.45,
    "max_detections": 100
  },
  "counting": {
    "iou_threshold": 0.4,
    "row_limit": 6
  },
  "sync": {
    "base_url": "https://YOUR_SERVER_URL",
    "pulse_interval_seconds": 5
  },
  "diagnostics": {
    "show_fps_overlay": true
  }
}
```

| ุงูุฅุนุฏุงุฏ | ุงููุนูู |
|---------|--------|
| `confidence_threshold` | ุงูุญุฏ ุงูุฃุฏูู ููุซูุฉ ูู ุงููุดู (0 ุฅูู 1) |
| `max_detections` | ุฃูุตู ุนุฏุฏ ูุดููุงุช ูู ุงูุฅุทุงุฑ ุงููุงุญุฏ |
| `iou_threshold` | ุญุณุงุณูุฉ ุชุชุจุน ููุณ ุงูุฌุณู ูููุน ุงูุชูุฑุงุฑ |
| `row_limit` | ุฃูุตู ุนุฏุฏ ุตููู ูุชู ุงุญุชุณุงุจูุง (6 ุงูุชุฑุงุถูุงู) |
| `pulse_interval_seconds` | ูู ุซุงููุฉ ุจูู ูู ูุจุถุฉ ูุฒุงููุฉ |

---

## 6. ุงูุจุฏุก ุงูุณุฑูุน

### ุชุดุบูู ุงูุฎุงุฏู ูููุญุฉ ุงูุชุญูู ูุญููุงู

```bash
# 1. ุชุซุจูุช ุงูุญุฒู
npm install

# 2. ุชุดุบูู ูู ูุถุน ุงูุชุทููุฑ
npm run dev

# 3. ุงูุชุญ ุงููุชุตูุญ ุนูู
# http://localhost:5000
```

### ุจูุงุก ูุดุฑูุน Unity ููู Android

1. ุงูุชุญ ุงููุดุฑูุน ูู **Unity 2022.3 LTS**
2. ุซุจูุช ุงูุญุฒู: AR Foundation 5.1.2 + ARCore XR Plugin 5.1.2
3. ุฃุถู ุงููููุฐุฌ: `Assets/Models/yolov8n.onnx`
4. ุงุฐูุจ ุฅูู **File > Build Settings > Android > Build**

### ุจูุงุก APK ุชููุงุฆูุงู ุนุจุฑ GitHub Actions

1. ุฃุถู ุงูู Secrets ุงููุทููุจุฉ ูู **Settings > Secrets and variables > Actions**
2. ุงุฐูุจ ุฅูู **Actions > Build Android APK > Run workflow**
3. ุงูุชุธุฑ 15โ30 ุฏูููุฉ ุซู ุญููู ุงูู APK ูู ูุณู **Artifacts**

---

## 7. ูููู ุงููุดุฑูุน

```
LHD/
โโโ Assets/                  # ูุดุฑูุน Unity ุงููุงูู
โ   โโโ Scripts/             # ูู ุณูุฑูุจุชุงุช C#
โ   โโโ Scenes/Main.unity    # ุงููุดูุฏ ุงูุฑุฆูุณู
โ   โโโ Resources/CONFIG.json # ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู
โ   โโโ Models/              # ูููุฐุฌ ONNX + labels
โโโ client/                  # React Frontend (Vite)
โโโ server/                  # Express.js Backend
โโโ shared/                  # ุฃููุงุน TypeScript ุงููุดุชุฑูุฉ
โโโ .github/workflows/       # GitHub Actions CI/CD
โโโ Docs/                    # ุงูุชูุซูู
โ   โโโ OVERVIEW_AR.md       # ูุฐุง ุงูููู (ุนุฑุจู)
โ   โโโ RUNBOOK.md           # ุฏููู ุงูุฅุนุฏุงุฏ ุงูุชูุตููู
โ   โโโ CI_CD_SETUP.md       # ุฏููู ุฅุนุฏุงุฏ CI/CD
โ   โโโ QA_CHECKLIST.md      # ูุงุฆูุฉ ุงุฎุชุจุงุฑุงุช ุงูุฌูุฏุฉ
โโโ package.json             # ุงุนุชูุงุฏูุงุช Node.js
โโโ replit.md                # ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุดุฑูุน
```

---

## 8. ูุตุงุฏุฑ ุฅุถุงููุฉ

| ุงููุฑุฌุน | ุงูุฑุงุจุท |
|--------|-------|
| ุฏููู ุงูุฅุนุฏุงุฏ ุงูุชูุตููู | [RUNBOOK.md](./RUNBOOK.md) |
| ุฏููู CI/CD | [CI_CD_SETUP.md](./CI_CD_SETUP.md) |
| ูุงุฆูุฉ ุงุฎุชุจุงุฑุงุช ุงูุฌูุฏุฉ | [QA_CHECKLIST.md](./QA_CHECKLIST.md) |
| ุชูุซูู GitHub Actions Workflows | [.github/workflows/README.md](../.github/workflows/README.md) |
| GameCI (ุจูุงุก Unity) | https://game.ci/ |
| RunPod | https://www.runpod.io/ |

---

**ุขุฎุฑ ุชุญุฏูุซ**: ูุจุฑุงูุฑ ูขููขูฆ โ ูุฑูู LHD
